{
    "id": "org.kde.kdevelop",
    "runtime": "org.kde.Sdk",
    "runtime-version": "6.10",
    "base": "io.qt.qtwebengine.BaseApp",
    "base-version": "6.10",
    "sdk": "org.kde.Sdk",
    "sdk-extensions": [
        "org.freedesktop.Sdk.Extension.llvm20"
    ],
    "rename-icon": "kdevelop",
    "add-extensions": {
        "org.freedesktop.Sdk.Extension.llvm20": {
            "no-autodownload": false,
            "version": "24.08"
        }
    },
    "command": "kdevelop",
    "finish-args": [
        "--allow=devel",
        "--device=dri",
        "--env=PATH=/app/bin:/usr/bin:/usr/lib/sdk/llvm20/bin",
        "--filesystem=host",
        "--own-name=org.kdevelop.*",
        "--share=ipc",
        "--share=network",
        "--socket=cups",
        "--socket=fallback-x11",
        "--socket=wayland",
        "--talk-name=org.freedesktop.Flatpak"
    ],
    "modules": [
        {
            "name": "cppcheck",
            "buildsystem": "cmake-ninja",
            "sources": [
                {
                    "type": "archive",
                    "url": "https://github.com/danmar/cppcheck/archive/refs/tags/2.19.0.tar.gz",
                    "sha256": "c6cff9d3bbcb3da941bf7f525ae974b6c7af3d610c4c5519fcd1be3f21f5ae09",
                    "x-checker-data": {
                        "type": "anitya",
                        "project-id": 357,
                        "stable-only": true,
                        "url-template": "https://github.com/danmar/cppcheck/archive/refs/tags/$version.tar.gz"
                    }
                }
            ]
        },
        {
            "name": "apr",
            "sources": [
                {
                    "type": "archive",
                    "url": "https://dlcdn.apache.org/apr/apr-1.7.6.tar.bz2",
                    "sha256": "49030d92d2575da735791b496dc322f3ce5cff9494779ba8cc28c7f46c5deb32",
                    "x-checker-data": {
                        "type": "anitya",
                        "project-id": 95,
                        "stable-only": true,
                        "url-template": "https://dlcdn.apache.org/apr/apr-$version.tar.bz2"
                    }
                }
            ]
        },
        {
            "name": "apr-util",
            "config-opts": [
                "--with-apr=/app"
            ],
            "sources": [
                {
                    "type": "archive",
                    "url": "https://dlcdn.apache.org//apr/apr-util-1.6.3.tar.bz2",
                    "sha256": "a41076e3710746326c3945042994ad9a4fcac0ce0277dd8fea076fec3c9772b5",
                    "x-checker-data": {
                        "type": "anitya",
                        "project-id": 96,
                        "stable-only": true,
                        "url-template": "https://dlcdn.apache.org//apr/apr-util-$version.tar.bz2"
                    }
                }
            ]
        },
        {
            "name": "utf8proc",
            "buildsystem": "cmake-ninja",
            "config-opts": [
                "-DBUILD_SHARED_LIBS=ON",
                "-DUTF8PROC_INSTALL=ON",
                "-DUTF8PROC_ENABLE_TESTING=OFF"
            ],
            "builddir": true,
            "sources": [
                {
                    "type": "git",
                    "url": "https://github.com/JuliaStrings/utf8proc.git",
                    "tag": "v2.11.2",
                    "commit": "90daf9f396cfec91668758eb9cc54bd5248a6b89",
                    "x-checker-data": {
                        "type": "git",
                        "tag-pattern": "^v([\\d.]+)$"
                    }
                }
            ]
        },
        {
            "name": "subversion",
            "config-opts": [
                "--with-lz4=internal"
            ],
            "sources": [
                {
                    "type": "archive",
                    "url": "https://downloads.apache.org/subversion/subversion-1.14.5.tar.bz2",
                    "sha256": "e78a29e7766b8b7b354497d08f71a55641abc53675ce1875584781aae35644a1",
                    "x-checker-data": {
                        "type": "anitya",
                        "project-id": 4905,
                        "stable-only": true,
                        "url-template": "https://downloads.apache.org/subversion/subversion-1.14.5.tar.bz2"
                    }
                }
            ],
            "post-install": [
                "cp -v /app/share/pkgconfig/*.pc /app/lib/pkgconfig"
            ]
        },
        {
            "name": "boost",
            "buildsystem": "simple",
            "build-commands": [
                "./bootstrap.sh --prefix=/app --with-libraries=system",
                "./b2 -j $FLATPAK_BUILDER_N_JOBS install"
            ],
            "sources": [
                {
                    "type": "archive",
                    "url": "https://archives.boost.io/release/1.90.0/source/boost_1_90_0.tar.bz2",
                    "sha256": "49551aff3b22cbc5c5a9ed3dbc92f0e23ea50a0f7325b0d198b705e8ee3fc305",
                    "x-checker-data": {
                        "type": "anitya",
                        "project-id": 6845,
                        "stable-only": true,
                        "url-template": "https://archives.boost.io/release/$version/source/boost_${major}_${minor}_$patch.tar.bz2"
                    }
                }
            ]
        },
        {
            "name": "libkomparediff2",
            "buildsystem": "cmake-ninja",
            "config-opts": [
                "-DBUILD_TESTING=OFF"
            ],
            "sources": [
                {
                    "type": "archive",
                    "url": "https://download.kde.org/stable/release-service/25.12.0/src/libkomparediff2-25.12.0.tar.xz",
                    "sha256": "93fa6cc2c5ec5fe0c5a4e2222f57635b18fdc3599ea22235bbb10c7b8ceaa079",
                    "x-checker-data": {
                        "type": "anitya",
                        "project-id": 8763,
                        "stable-only": true,
                        "url-template": "https://download.kde.org/stable/release-service/$version/src/libkomparediff2-$version.tar.xz"
                    }
                }
            ]
        },
        {
            "name": "krunner",
            "buildsystem": "cmake-ninja",
            "config-opts": [
                "-DBUILD_TESTING=OFF"
            ],
            "sources": [
                {
                    "type": "archive",
                    "url": "https://download.kde.org/stable/frameworks/6.21/krunner-6.21.0.tar.xz",
                    "sha256": "f19dcc56349f1278287572aaf273ce87c774f9eec99e2c4368e164baed5128a5",
                    "x-checker-data": {
                        "type": "anitya",
                        "project-id": 8762,
                        "stable-only": true,
                        "url-template": "https://download.kde.org/stable/frameworks/$major.$minor/krunner-$version.tar.xz"
                    }
                }
            ]
        },
        {
            "name": "libnl",
            "sources": [
                {
                    "type": "archive",
                    "url": "https://github.com/thom311/libnl/releases/download/libnl3_12_0/libnl-3.12.0.tar.gz",
                    "sha256": "fc51ca7196f1a3f5fdf6ffd3864b50f4f9c02333be28be4eeca057e103c0dd18",
                    "x-checker-data": {
                        "type": "anitya",
                        "project-id": 1684,
                        "stable-only": true,
                        "url-template": "https://github.com/thom311/libnl/releases/download/libnl${major}_${minor}_$patch/libnl-$version.tar.gz"
                    }
                }
            ]
        },
        {
            "name": "lm_sensors",
            "buildsystem": "simple",
            "build-commands": [
                "sed -i -e 's/ -g / -s /' Makefile",
                "make -j $FLATPAK_BUILDER_N_JOBS",
                "find . -type f | perl -lne 'print if -B and -x' | xargs strip",
                "make install BUILD_STATIC_LIB=0 DEBUG=0 PREFIX=/ DESTDIR=$FLATPAK_DEST"
            ],
            "sources": [
                {
                    "type": "archive",
                    "url": "https://github.com/lm-sensors/lm-sensors/archive/V3-6-0/lm-sensors-3-6-0.tar.gz",
                    "sha256": "0591f9fa0339f0d15e75326d0365871c2d4e2ed8aa1ff759b3a55d3734b7d197",
                    "x-checker-data": {
                        "type": "anitya",
                        "project-id": 1831,
                        "stable-only": true,
                        "url-template": "https://github.com/lm-sensors/lm-sensors/archive/V${version}/lm-sensors-${version}.tar.gz"
                    }
                }
            ]
        },
        {
            "name": "libpcap",
            "cleanup": [
                "/include",
                "/share",
                "/lib/pkgconfig"
            ],
            "sources": [
                {
                    "type": "archive",
                    "url": "https://www.tcpdump.org/release/libpcap-1.10.5.tar.gz",
                    "sha256": "37ced90a19a302a7f32e458224a00c365c117905c2cd35ac544b6880a81488f0",
                    "x-checker-data": {
                        "type": "anitya",
                        "project-id": 1702,
                        "stable-only": true,
                        "url-template": "https://www.tcpdump.org/release/libpcap-$version.tar.gz"
                    }
                }
            ]
        },
        {
            "name": "libksysguard",
            "buildsystem": "cmake-ninja",
            "config-opts": [
                "-DBUILD_TESTING=OFF",
                "-DENABLE_KAUTH_HELPER=OFF"
            ],
            "sources": [
                {
                    "type": "archive",
                    "url": "https://download.kde.org/stable/plasma/6.5.4/libksysguard-6.5.4.tar.xz",
                    "sha256": "74f370be24722afa2ae79acf3d73edc6a23f0ecba8e0b717de973f5d0da0508e",
                    "x-checker-data": {
                        "type": "anitya",
                        "project-id": 8761,
                        "stable-only": true,
                        "url-template": "https://download.kde.org/stable/plasma/$version/libksysguard-$version.tar.xz"
                    }
                }
            ]
        },
        {
            "name": "konsole",
            "buildsystem": "cmake-ninja",
            "sources": [
                {
                    "type": "archive",
                    "url": "https://download.kde.org/stable/release-service/25.12.0/src/konsole-25.12.0.tar.xz",
                    "sha256": "bfe39ed22b830c99e37583ad0e67eb28e912c43235b3ab478986374676234a34",
                    "x-checker-data": {
                        "type": "anitya",
                        "project-id": 8763,
                        "stable-only": true,
                        "url-template": "https://download.kde.org/stable/release-service/$version/src/konsole-$version.tar.xz"
                    }
                }
            ]
        },
        {
            "name": "kdevelop-pg-qt",
            "buildsystem": "cmake-ninja",
            "sources": [
                {
                    "type": "archive",
                    "url": "https://download.kde.org/stable/kdevelop-pg-qt/2.4.0/src/kdevelop-pg-qt-2.4.0.tar.xz",
                    "sha256": "acbeb61c82f5d7aa2ddcfa18e3bee5e2559106970bd6d146d46c95f8d027bb86",
                    "x-checker-data": {
                        "type": "anitya",
                        "project-id": 17733,
                        "stable-only": true,
                        "url-template": "https://download.kde.org/stable/kdevelop-pg-qt/$version/src/kdevelop-pg-qt-$version.tar.xz"
                    }
                }
            ]
        },
        {
            "name": "ktexttemplate",
            "config-opts": [
                "-DBUILD_TESTING=OFF"
            ],
            "buildsystem": "cmake-ninja",
            "sources": [
                {
                    "type": "archive",
                    "url": "https://download.kde.org/stable/frameworks/6.21/ktexttemplate-6.21.0.tar.xz",
                    "sha256": "864667da2190a3cdd429269d9303357ebfeb3c4c34cb651071d482c56f8b772d",
                    "x-checker-data": {
                        "type": "anitya",
                        "project-id": 8762,
                        "stable-only": true,
                        "url-template": "https://download.kde.org/stable/frameworks/$major.$minor/ktexttemplate-$version.tar.xz"
                    }
                }
            ]
        },
        {
            "name": "kdevelop",
            "buildsystem": "cmake-ninja",
            "config-opts": [
                "-DBUILD_TESTING=OFF"
            ],
            "build-options": {
                "prepend-path": "/usr/lib/sdk/llvm20/bin",
                "prepend-ld-library-path": "/usr/lib/sdk/llvm20/lib"
            },
            "post-install": [
                "desktop-file-edit --set-key=\"Icon\" --set-value=\"${FLATPAK_ID}\" \"${FLATPAK_DEST}/share/applications/${FLATPAK_ID}.desktop\""
            ],
            "cleanup": [
                "/share/icons/hicolor/1024x1024"
            ],
            "sources": [
                {
                    "type": "archive",
                    "url": "https://download.kde.org/stable/release-service/25.12.0/src/kdevelop-25.12.0.tar.xz",
                    "sha256": "efff758bd586af5d82329d2f340abfe646673d89fc6f5770838aea49f73f3f5f",
                    "x-checker-data": {
                        "type": "anitya",
                        "project-id": 8763,
                        "stable-only": true,
                        "url-template": "https://download.kde.org/stable/release-service/$version/src/kdevelop-$version.tar.xz"
                    }
                }
            ]
        },
        {
            "name": "kdev-python",
            "buildsystem": "cmake-ninja",
            "config-opts": [
                "-DBUILD_TESTING=OFF"
            ],
            "sources": [
                {
                    "type": "archive",
                    "url": "https://download.kde.org/stable/release-service/25.12.0/src/kdev-python-25.12.0.tar.xz",
                    "sha256": "fb37b36855648336466ecdc948b371eb0dabe30b12e313137ca2f69db602b91d",
                    "x-checker-data": {
                        "type": "anitya",
                        "project-id": 8763,
                        "stable-only": true,
                        "url-template": "https://download.kde.org/stable/release-service/$version/src/kdev-python-$version.tar.xz"
                    }
                }
            ]
        },
        {
            "name": "kdev-php",
            "buildsystem": "cmake-ninja",
            "config-opts": [
                "-DBUILD_TESTING=OFF"
            ],
            "sources": [
                {
                    "type": "archive",
                    "url": "https://download.kde.org/stable/release-service/25.12.0/src/kdev-php-25.12.0.tar.xz",
                    "sha256": "7fbe8f6b6814636f6640f2b314369a22551e34ff5a6fb7d266e14e20f2823bcd",
                    "x-checker-data": {
                        "type": "anitya",
                        "project-id": 8763,
                        "stable-only": true,
                        "url-template": "https://download.kde.org/stable/release-service/$version/src/kdev-php-$version.tar.xz"
                    }
                }
            ]
        },
        {
            "name": "cmake",
            "buildsystem": "cmake-ninja",
            "sources": [
                {
                    "type": "archive",
                    "url": "https://github.com/Kitware/CMake/releases/download/v4.2.1/cmake-4.2.1.tar.gz",
                    "sha256": "414aacfac54ba0e78e64a018720b64ed6bfca14b587047b8b3489f407a14a070",
                    "x-checker-data": {
                        "type": "anitya",
                        "project-id": 306,
                        "stable-only": true,
                        "url-template": "https://github.com/Kitware/CMake/releases/download/v$version/cmake-$version.tar.gz"
                    }
                }
            ]
        }
    ]
}
